<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Naam pagina -->
    <title>Review schrijven</title>

    <!-- Style-->
    <link rel="stylesheet" href="css/styleHotel.css" />
    <style>
        body {
            margin: 0;
            padding: 0;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            height: 150vh;
        }

        .black_title {
            background-color: black;
            color: white;
            padding: 10px;
        }

        .review-box {
            background-color: #ffc107;
            color: black;
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .review-header {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .review-content {
            font-size: 16px;
            line-height: 1.6;
        }

        .review-footer {
            margin-top: 10px;
            font-size: 14px;
            color: #777;
        }

        * {
            margin: 0;
            padding: 0;
        }

        .rate {
            float: left;
            height: 46px;
            padding: 0 10px;
        }

        .rate:not(:checked)>input {
            position: absolute;
            top: -9999px;
        }

        .rate:not(:checked)>label {
            float: right;
            width: 1em;
            overflow: hidden;
            white-space: nowrap;
            cursor: pointer;
            font-size: 30px;
            color: #ccc;
        }

        .rate:not(:checked)>label:before {
            content: 'â˜… ';
        }

        .rate>input:checked~label {
            color: #ffc700;
        }

        .rate:not(:checked)>label:hover,
        .rate:not(:checked)>label:hover~label {
            color: #deb217;
        }

        .rate>input:checked+label:hover,
        .rate>input:checked+label:hover~label,
        .rate>input:checked~label:hover,
        .rate>input:checked~label:hover~label,
        .rate>label:hover~input:checked~label {
            color: #c59b08;
        }
    </style>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="js/base.js"></script>
</head>

<body>
    <!-- Navigatiebar-->
    <header>
        <div class="header">
            <div class="container">
                <div class="row">
                    <div class="col-xl-1 col-lg-1 col-md-1 col-sm-1 col logo_section">
                        <div class="logo">
                            <a href="index.html"><img src="Afbeeldingen/Logo.png" alt="#" height="60" /></a>
                        </div>
                    </div>
                    <div class="col-xl-9 col-lg-9 col-md-9 col-sm-9">
                        <nav class="navigation navbar navbar-expand-md navbar-dark">
                            <button class="navbar-toggler" type="button" data-toggle="collapse"
                                data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false"
                                aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            <div class="collapse navbar-collapse" id="navbarsExample04">
                                <ul class="navbar-nav mr-auto">
                                    <li class="nav-item">
                                        <a class="nav-link" href="kamers.html">Kamers</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="activiteiten.html">Activiteiten</a>
                                    </li>
                                    <li class="nav-item active">
                                        <a class="nav-link" href="reviews.html">Reviews</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="Contact.html">Contact</a>
                                    </li>
                                </ul>
                                <div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col logo_section"></div>
                                <ul class="navbar-nav">
                                    <li class="nav-item">
                                        <a class="nav-link" href="#" id="login-link">Inloggen</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="registreren.html">Registreren</a>
                                    </li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </header>

    <div style="position: relative;">
        <div class="black_title">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 mt-3">
                        <div class="title">
                            <h2 style="text-align: center;">Inloggen</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-12 pt-5">
                <div class="form-floating">
                    <input type="email" class="form-control" id="inputEmail" placeholder="name@example.com">
                    <label for="inputEmail">Email address</label>
                </div>
                <div class="form-floating">
                    <input type="password" class="form-control" id="inputWachtwoord" placeholder="Password">
                    <label for="inputWachtwoord">Password</label>
                </div>

                <div class="checkbox mb-3">
                    <label>
                        <input type="checkbox" value="remember-me"> Remember me
                    </label>
                </div>
                <button class="w-100 btn btn-lg btn-primary" type="button" onclick="inloggen()">Sign in</button>
            </div>
        </div>
    </div>
</body>
<script>
    function inloggen() {
        var logincheck = {};
        logincheck.email = document.getElementById("inputEmail").value;
        logincheck.wachtwoord = document.getElementById("inputWachtwoord").value;
        console.log(logincheck);
        var deJSON = JSON.stringify(logincheck);

        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                let responseDto = JSON.parse(xhr.responseText);
                if (responseDto.succes) {
                    alert("is gelukt!");

                    localStorage.setItem("YC_ROLE", responseDto.role);
                    localStorage.setItem("YC_TOKEN", responseDto.token);
                    localStorage.setItem("YC_NAME", responseDto.name);

                    window.location.href = "index.html";
                } else {
                    alert(responseDto.validatieMeldingen[0]);
                }
            }
        }

        xhr.open("POST", BACKEND_URL + "/login", true);
        console.log(deJSON);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.send(deJSON);
    }

    document.addEventListener("DOMContentLoaded", (event) => {
        let loggedInName = localStorage.getItem("YC_NAME");
        if (!!loggedInName) {
            document.getElementById('login-link').innerText = loggedInName;
        }
    });

</script>

</html>